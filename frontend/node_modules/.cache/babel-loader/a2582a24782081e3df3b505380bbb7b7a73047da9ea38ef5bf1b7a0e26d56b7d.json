{"ast":null,"code":"import React,{useEffect,useState}from'react';import{List,ListItem,ListItemText,ListItemSecondaryAction,Button,Typography,CircularProgress,Box,Paper}from'@mui/material';import{useNavigate}from'react-router-dom';import axios from'../utils/axios';import{Dialog,DialogTitle,DialogContent}from'@mui/material';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CampList(){const{user}=useAuth();const[camps,setCamps]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[openDialog,setOpenDialog]=useState(false);const[selectedCamp,setSelectedCamp]=useState(null);const[registrations,setRegistrations]=useState([]);const[regsLoading,setRegsLoading]=useState(false);const[regsError,setRegsError]=useState('');// view dialog removed — show details inline at the bottom\nconst[detailsDialogOpen,setDetailsDialogOpen]=useState(false);const[selectedDetailsCamp,setSelectedDetailsCamp]=useState(null);const navigate=useNavigate();useEffect(()=>{axios.get('/api/camps').then(res=>setCamps(res.data)).catch(()=>setError('Failed to load camps')).finally(()=>setLoading(false));},[]);const handleOpenDialog=camp=>{setSelectedCamp(camp);// fetch registrations for this camp and open dialog\nsetRegsLoading(true);setRegsError('');setRegistrations([]);setOpenDialog(true);axios.get(\"/api/registrations/camp/\".concat(camp.camp_id)).then(res=>setRegistrations(res.data||[])).catch(()=>setRegsError('Failed to load registrations for this camp')).finally(()=>setRegsLoading(false));};const handleCloseDialog=()=>{setOpenDialog(false);setSelectedCamp(null);setRegistrations([]);setRegsError('');};// handleOpenView removed; use handleOpenDetails to show details panel at bottom\nconst handleOpenDetails=camp=>{setSelectedDetailsCamp(camp);setDetailsDialogOpen(true);};const handleCloseDetails=()=>{setDetailsDialogOpen(false);setSelectedDetailsCamp(null);};if(loading)return/*#__PURE__*/_jsx(Box,{sx:{textAlign:'center',py:4},children:/*#__PURE__*/_jsx(CircularProgress,{})});if(error)return/*#__PURE__*/_jsx(Typography,{color:\"error\",align:\"center\",children:error});if(!camps.length)return/*#__PURE__*/_jsx(Typography,{align:\"center\",children:\"No camps found.\"});return/*#__PURE__*/_jsxs(Paper,{sx:{mb:3},children:[/*#__PURE__*/_jsx(List,{children:camps.map(camp=>/*#__PURE__*/_jsxs(ListItem,{divider:true,children:[/*#__PURE__*/_jsx(ListItemText,{primary:camp.camp_name,secondary:\"Date: \".concat(new Date(camp.camp_date).toLocaleDateString(),\" | Location: \").concat(camp.area)}),/*#__PURE__*/_jsxs(ListItemSecondaryAction,{children:[user&&user.role==='admin'&&/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",sx:{mr:1},onClick:()=>handleOpenDetails(camp),children:\"View\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",onClick:()=>navigate(\"/camps/\".concat(camp.camp_id,\"/registrations\")),children:\"Open\"})]})]},camp.camp_id))}),selectedCamp&&/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(Dialog,{open:openDialog,onClose:handleCloseDialog,maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsxs(DialogTitle,{children:[\"Patients for \",selectedCamp.camp_name]}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1,mb:2},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{handleCloseDialog();navigate(\"/camps/\".concat(selectedCamp.camp_id,\"/register\"));},children:\"New Registration\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"secondary\",onClick:()=>{/* show details in panel */handleCloseDialog();handleOpenDetails(selectedCamp);},children:\"Show Details\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"success\",onClick:()=>{// export registrations to CSV\nif(!registrations||!registrations.length)return;const headers=['Registration ID','OPD Number','First Name','Guardian Name','Age','Mobile','Aadhar','Camp ID'];const rows=registrations.map(r=>[r.registration_id,r.opd_number,r.first_name,r.guardian_name,r.age,r.mobile,r.aadhar,r.camp_id]);const csvContent=[headers,...rows].map(e=>e.map(v=>'\"'+String(v!==null&&v!==void 0?v:'')+'\"').join(',')).join('\\n');const blob=new Blob([csvContent],{type:'text/csv;charset=utf-8;'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"\".concat(selectedCamp.camp_name.replace(/\\s+/g,'_'),\"_registrations.csv\");a.click();URL.revokeObjectURL(url);},children:\"Export to CSV\"})]}),regsLoading&&/*#__PURE__*/_jsx(Box,{sx:{textAlign:'center',py:2},children:/*#__PURE__*/_jsx(CircularProgress,{})}),regsError&&/*#__PURE__*/_jsx(Typography,{color:\"error\",children:regsError}),!regsLoading&&!regsError&&(!registrations||registrations.length===0)&&/*#__PURE__*/_jsx(Typography,{children:\"No registrations found for this camp.\"}),!regsLoading&&registrations&&registrations.length>0&&/*#__PURE__*/_jsx(List,{children:registrations.map(reg=>/*#__PURE__*/_jsxs(ListItem,{divider:true,children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"\".concat(reg.opd_number,\" \\u2014 \").concat(reg.first_name),secondary:\"Guardian: \".concat(reg.guardian_name||'-',\" | Age: \").concat(reg.age||'-',\" | Mobile: \").concat(reg.mobile||'-',\" | Aadhar: \").concat(reg.aadhar||'-')}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:()=>navigate(\"/registrations/\".concat(reg.registration_id,\"/exam\")),children:\"View\"})})]},reg.registration_id))})]})]})}),selectedDetailsCamp&&/*#__PURE__*/_jsxs(Paper,{sx:{mt:3,p:2},variant:\"outlined\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:selectedDetailsCamp.camp_name}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{mb:1},children:new Date(selectedDetailsCamp.camp_date).toLocaleDateString()}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Area:\"}),\" \",selectedDetailsCamp.area]}),selectedDetailsCamp.district&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"District:\"}),\" \",selectedDetailsCamp.district]}),selectedDetailsCamp.mandal&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Mandal:\"}),\" \",selectedDetailsCamp.mandal]}),selectedDetailsCamp.coordinator&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Coordinator:\"}),\" \",selectedDetailsCamp.coordinator]}),selectedDetailsCamp.sponsor&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Sponsor:\"}),\" \",selectedDetailsCamp.sponsor]}),selectedDetailsCamp.agenda&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{mt:1},children:selectedDetailsCamp.agenda}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2,display:'flex',gap:1},children:[user&&user.role==='admin'&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>navigate(\"/camps/\".concat(selectedDetailsCamp.camp_id,\"/edit\")),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>setSelectedDetailsCamp(null),children:\"Close\"})]})]}),selectedDetailsCamp&&/*#__PURE__*/_jsxs(Dialog,{open:detailsDialogOpen,onClose:handleCloseDetails,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsxs(DialogTitle,{children:[\"Camp Details - \",selectedDetailsCamp.camp_name]}),/*#__PURE__*/_jsxs(DialogContent,{dividers:true,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",new Date(selectedDetailsCamp.camp_date).toLocaleDateString()]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Area:\"}),\" \",selectedDetailsCamp.area]}),selectedDetailsCamp.district&&/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"District:\"}),\" \",selectedDetailsCamp.district]}),selectedDetailsCamp.mandal&&/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Mandal:\"}),\" \",selectedDetailsCamp.mandal]}),selectedDetailsCamp.coordinator&&/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Coordinator:\"}),\" \",selectedDetailsCamp.coordinator]}),selectedDetailsCamp.sponsor&&/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Sponsor:\"}),\" \",selectedDetailsCamp.sponsor]}),selectedDetailsCamp.agenda&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{mt:2},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Agenda:\"}),/*#__PURE__*/_jsx(\"br\",{}),selectedDetailsCamp.agenda]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:3,display:'flex',gap:1},children:[user&&user.role==='admin'&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>{handleCloseDetails();navigate(\"/camps/\".concat(selectedDetailsCamp.camp_id,\"/edit\"));},children:\"Edit Camp\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:handleCloseDetails,children:\"Close\"})]})]})]})]});}export default CampList;","map":{"version":3,"names":["React","useEffect","useState","List","ListItem","ListItemText","ListItemSecondaryAction","Button","Typography","CircularProgress","Box","Paper","useNavigate","axios","Dialog","DialogTitle","DialogContent","useAuth","jsx","_jsx","jsxs","_jsxs","CampList","user","camps","setCamps","loading","setLoading","error","setError","openDialog","setOpenDialog","selectedCamp","setSelectedCamp","registrations","setRegistrations","regsLoading","setRegsLoading","regsError","setRegsError","detailsDialogOpen","setDetailsDialogOpen","selectedDetailsCamp","setSelectedDetailsCamp","navigate","get","then","res","data","catch","finally","handleOpenDialog","camp","concat","camp_id","handleCloseDialog","handleOpenDetails","handleCloseDetails","sx","textAlign","py","children","color","align","length","mb","map","divider","primary","camp_name","secondary","Date","camp_date","toLocaleDateString","area","role","variant","mr","onClick","open","onClose","maxWidth","fullWidth","display","gap","headers","rows","r","registration_id","opd_number","first_name","guardian_name","age","mobile","aadhar","csvContent","e","v","String","join","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","replace","click","revokeObjectURL","reg","size","mt","p","district","mandal","coordinator","sponsor","agenda","dividers"],"sources":["/home/ubuntu/application/frontend/src/pages/CampList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { List, ListItem, ListItemText, ListItemSecondaryAction, Button, Typography, CircularProgress, Box, Paper } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport axios from '../utils/axios';\nimport { Dialog, DialogTitle, DialogContent } from '@mui/material';\nimport { useAuth } from '../contexts/AuthContext';\n\nfunction CampList() {\n  const { user } = useAuth();\n  const [camps, setCamps] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [openDialog, setOpenDialog] = useState(false);\n  const [selectedCamp, setSelectedCamp] = useState(null);\n  const [registrations, setRegistrations] = useState([]);\n  const [regsLoading, setRegsLoading] = useState(false);\n  const [regsError, setRegsError] = useState('');\n  // view dialog removed — show details inline at the bottom\n  const [detailsDialogOpen, setDetailsDialogOpen] = useState(false);\n  const [selectedDetailsCamp, setSelectedDetailsCamp] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    axios.get('/api/camps')\n      .then(res => setCamps(res.data))\n      .catch(() => setError('Failed to load camps'))\n      .finally(() => setLoading(false));\n  }, []);\n\n  const handleOpenDialog = camp => {\n    setSelectedCamp(camp);\n    // fetch registrations for this camp and open dialog\n    setRegsLoading(true);\n    setRegsError('');\n    setRegistrations([]);\n    setOpenDialog(true);\n    axios.get(`/api/registrations/camp/${camp.camp_id}`)\n      .then(res => setRegistrations(res.data || []))\n      .catch(() => setRegsError('Failed to load registrations for this camp'))\n      .finally(() => setRegsLoading(false));\n  };\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setSelectedCamp(null);\n    setRegistrations([]);\n    setRegsError('');\n  };\n\n  // handleOpenView removed; use handleOpenDetails to show details panel at bottom\n\n  const handleOpenDetails = (camp) => {\n    setSelectedDetailsCamp(camp);\n    setDetailsDialogOpen(true);\n  };\n  const handleCloseDetails = () => {\n    setDetailsDialogOpen(false);\n    setSelectedDetailsCamp(null);\n  };\n\n  if (loading) return <Box sx={{ textAlign: 'center', py: 4 }}><CircularProgress /></Box>;\n  if (error) return <Typography color=\"error\" align=\"center\">{error}</Typography>;\n  if (!camps.length) return <Typography align=\"center\">No camps found.</Typography>;\n\n  return (\n    <Paper sx={{ mb: 3 }}>\n      <List>\n        {camps.map(camp => (\n          <ListItem key={camp.camp_id} divider>\n            <ListItemText\n              primary={camp.camp_name}\n              secondary={`Date: ${new Date(camp.camp_date).toLocaleDateString()} | Location: ${camp.area}`}\n            />\n            <ListItemSecondaryAction>\n              {user && user.role === 'admin' && (\n                <Button\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  sx={{ mr: 1 }}\n                  onClick={() => handleOpenDetails(camp)}\n                >\n                  View\n                </Button>\n              )}\n              <Button\n                variant=\"contained\"\n                color=\"success\"\n                onClick={() => navigate(`/camps/${camp.camp_id}/registrations`)}\n              >\n                Open\n              </Button>\n            </ListItemSecondaryAction>\n          </ListItem>\n        ))}\n      </List>\n      {/* Dialog for Open button */}\n      {selectedCamp && (\n        <Box>\n          <Dialog open={openDialog} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\n            <DialogTitle>Patients for {selectedCamp.camp_name}</DialogTitle>\n            <DialogContent>\n              <Box sx={{ display: 'flex', gap: 1, mb: 2 }}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => { handleCloseDialog(); navigate(`/camps/${selectedCamp.camp_id}/register`); }}\n                >\n                  New Registration\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  onClick={() => { /* show details in panel */ handleCloseDialog(); handleOpenDetails(selectedCamp); }}\n                >\n                  Show Details\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  color=\"success\"\n                  onClick={() => {\n                    // export registrations to CSV\n                    if (!registrations || !registrations.length) return;\n                    const headers = ['Registration ID','OPD Number','First Name','Guardian Name','Age','Mobile','Aadhar','Camp ID'];\n                    const rows = registrations.map(r => [r.registration_id, r.opd_number, r.first_name, r.guardian_name, r.age, r.mobile, r.aadhar, r.camp_id]);\n                    const csvContent = [headers, ...rows].map(e => e.map(v => '\"' + String(v ?? '') + '\"').join(',')).join('\\n');\n                    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n                    const url = URL.createObjectURL(blob);\n                    const a = document.createElement('a');\n                    a.href = url;\n                    a.download = `${selectedCamp.camp_name.replace(/\\s+/g,'_')}_registrations.csv`;\n                    a.click();\n                    URL.revokeObjectURL(url);\n                  }}\n                >\n                  Export to CSV\n                </Button>\n              </Box>\n\n              {regsLoading && <Box sx={{ textAlign: 'center', py: 2 }}><CircularProgress /></Box>}\n              {regsError && <Typography color=\"error\">{regsError}</Typography>}\n              {!regsLoading && !regsError && (!registrations || registrations.length === 0) && (\n                <Typography>No registrations found for this camp.</Typography>\n              )}\n              {!regsLoading && registrations && registrations.length > 0 && (\n                <List>\n                  {registrations.map(reg => (\n                    <ListItem key={reg.registration_id} divider>\n                      <ListItemText\n                        primary={`${reg.opd_number} — ${reg.first_name}`}\n                        secondary={`Guardian: ${reg.guardian_name || '-'} | Age: ${reg.age || '-'} | Mobile: ${reg.mobile || '-'} | Aadhar: ${reg.aadhar || '-'}`}\n                      />\n                      <ListItemSecondaryAction>\n                        <Button size=\"small\" onClick={() => navigate(`/registrations/${reg.registration_id}/exam`)}>View</Button>\n                      </ListItemSecondaryAction>\n                    </ListItem>\n                  ))}\n                </List>\n              )}\n\n            </DialogContent>\n          </Dialog>\n        </Box>\n      )}\n\n      {/* Inline details panel at the bottom */}\n      {selectedDetailsCamp && (\n        <Paper sx={{ mt: 3, p: 2 }} variant=\"outlined\">\n          <Typography variant=\"h6\">{selectedDetailsCamp.camp_name}</Typography>\n          <Typography variant=\"subtitle2\" sx={{ mb: 1 }}>{new Date(selectedDetailsCamp.camp_date).toLocaleDateString()}</Typography>\n          <Typography variant=\"body2\"><strong>Area:</strong> {selectedDetailsCamp.area}</Typography>\n          {selectedDetailsCamp.district && <Typography variant=\"body2\"><strong>District:</strong> {selectedDetailsCamp.district}</Typography>}\n          {selectedDetailsCamp.mandal && <Typography variant=\"body2\"><strong>Mandal:</strong> {selectedDetailsCamp.mandal}</Typography>}\n          {selectedDetailsCamp.coordinator && <Typography variant=\"body2\"><strong>Coordinator:</strong> {selectedDetailsCamp.coordinator}</Typography>}\n          {selectedDetailsCamp.sponsor && <Typography variant=\"body2\"><strong>Sponsor:</strong> {selectedDetailsCamp.sponsor}</Typography>}\n          {selectedDetailsCamp.agenda && <Typography variant=\"body2\" sx={{ mt: 1 }}>{selectedDetailsCamp.agenda}</Typography>}\n          <Box sx={{ mt: 2, display: 'flex', gap: 1 }}>\n            {user && user.role === 'admin' && (\n              <Button variant=\"contained\" color=\"primary\" onClick={() => navigate(`/camps/${selectedDetailsCamp.camp_id}/edit`)}>Edit</Button>\n            )}\n            <Button variant=\"outlined\" onClick={() => setSelectedDetailsCamp(null)}>Close</Button>\n          </Box>\n        </Paper>\n      )}\n\n      {/* Details dialog showing camp info with Edit button */}\n      {selectedDetailsCamp && (\n        <Dialog open={detailsDialogOpen} onClose={handleCloseDetails} maxWidth=\"sm\" fullWidth>\n          <DialogTitle>Camp Details - {selectedDetailsCamp.camp_name}</DialogTitle>\n          <DialogContent dividers>\n            <Typography variant=\"subtitle1\"><strong>Date:</strong> {new Date(selectedDetailsCamp.camp_date).toLocaleDateString()}</Typography>\n            <Typography variant=\"subtitle1\"><strong>Area:</strong> {selectedDetailsCamp.area}</Typography>\n            {selectedDetailsCamp.district && <Typography variant=\"subtitle1\"><strong>District:</strong> {selectedDetailsCamp.district}</Typography>}\n            {selectedDetailsCamp.mandal && <Typography variant=\"subtitle1\"><strong>Mandal:</strong> {selectedDetailsCamp.mandal}</Typography>}\n            {selectedDetailsCamp.coordinator && <Typography variant=\"subtitle1\"><strong>Coordinator:</strong> {selectedDetailsCamp.coordinator}</Typography>}\n            {selectedDetailsCamp.sponsor && <Typography variant=\"subtitle1\"><strong>Sponsor:</strong> {selectedDetailsCamp.sponsor}</Typography>}\n            {selectedDetailsCamp.agenda && <Typography variant=\"body2\" sx={{ mt: 2 }}><strong>Agenda:</strong><br />{selectedDetailsCamp.agenda}</Typography>}\n            <Box sx={{ mt: 3, display: 'flex', gap: 1 }}>\n              {user && user.role === 'admin' && (\n                <Button variant=\"contained\" color=\"primary\" onClick={() => { handleCloseDetails(); navigate(`/camps/${selectedDetailsCamp.camp_id}/edit`); }}>\n                  Edit Camp\n                </Button>\n              )}\n              <Button variant=\"outlined\" onClick={handleCloseDetails}>Close</Button>\n            </Box>\n          </DialogContent>\n        </Dialog>\n      )}\n    </Paper>\n  );\n}\n\nexport default CampList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}